# Debug Information Format

## Overview
The debug information generated by sys4dc is stored in a JSON file named
`debug_info.json`. This file maintains the mapping between bytecode addresses
and source code locations, enabling debuggers to translate runtime addresses
to source code positions.

## Format Structure
The debug information is structured as a JSON object with the following
top-level fields:

### `version` (string)
- Specifies the format version of the debug information
- Current version: `"alpha-1"`

### `sources` (array of strings)
- An array of strings containing paths to source files
- Paths are relative to the location of the JSON file
- Each source file is referenced by its index in this array in the mappings
  section

### `mappings` (array of arrays)
Each mapping entry is an array of three integers:
1. Bytecode address
2. Source file index (zero-based index into the `sources` array)
3. Line number (one-based)

The `mappings` array maintains some ordering guarantees to enable efficient
binary search:

1. Bytecode addresses (first element) are in strictly increasing order
2. Source file indices (second element) are in non-decreasing order
3. Line numbers (third element) are in strictly increasing order for same
   source file

## Example

```json
{
  "version": "alpha-1",
  "sources": [
    "main.jaf",
    "System/SACT/main/sact_main.jaf"
  ],
  "mappings": [
    [12, 0, 2],
    [42, 0, 3],
    [60, 0, 5],
    [78, 0, 6],
    [90, 1, 3],
    [98, 1, 4],
    [106, 1, 6],
    ...
  ]
}
```

In this example, the first mapping entry indicates that bytecode address `12`
corresponds to line `2` of the source file `main.jaf`.
